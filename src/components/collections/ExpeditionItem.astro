---
/**
 * ExpeditionItem is a component that displays a single expedition item in the Expeditions landing page.
 */

import { type CollectionEntry, render } from "astro:content";
import { getDayjsMonthYear } from "@scripts/utils";

interface Props {
	expedition: CollectionEntry<"expeditions">;
}

const { expedition } = Astro.props;

const { remarkPluginFrontmatter } = await render(expedition);

const lastModifiedString = getDayjsMonthYear(remarkPluginFrontmatter.lastModified);
---

<div class="flex flex-col gap-4 p-8">
  <h2><a href=`/expeditions/${expedition.id}`>{expedition.data.title}</a></h2>
  <p class="text-sm">Last updated on {lastModifiedString} | {expedition.data.relatedEntries.length} entries</p>
  <p class="text-sm">{expedition.data.description}</p>
</div>
